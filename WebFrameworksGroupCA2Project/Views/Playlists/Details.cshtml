@using WebFrameworksGroupCA2Project.DTOs
@model PlaylistGetDTO

@{
    ViewData["Title"] = "Details";
}

<h1>Playlist Details</h1>

<div class="d-flex mb-4">
    <!-- Playlist Image -->
    <div>
        <img src="~/images/@Model.ImageFileName" alt="@Model.PlaylistName"
             class="img-thumbnail"
             style="width: 200px; height: 200px; object-fit: cover;" />
    </div>

    <!-- Playlist Info -->
    <div class="ms-4">
        <h2>@Model.PlaylistName</h2>
        <p><strong>Private:</strong> @Model.StatusPrivate</p>
    </div>
</div>

@if (Model.PlaylistSongs != null && Model.PlaylistSongs.Any())
{
    <h3>Songs in this Playlist</h3>

    <ul class="list-group">
        @{
            var index = 1;
        }
        @foreach (var playlistSong in Model.PlaylistSongs)
        {
            var song = playlistSong.Song;
            var artist = song?.Artist;

            <li class="list-group-item d-flex justify-content-between align-items-center song-item">
                <!-- Song Link -->
                <a asp-action="Details" asp-controller="Songs" asp-route-id="@song?.Id">
                    <div>
                        <strong>@index.</strong> @song?.SongName
                    </div>
                </a>
                <a asp-action="Details" asp-controller="Artists" asp-route-id="@song?.ArtistId" class="artist-details">
                    <div class="text-muted">@artist?.ArtistName</div>
                </a>
                
                <div>
                    <a>Release date: @song!.DateOfRelease.ToShortDateString()</a>
                </div>
            </li>
            index++;
        }
    </ul>
}
else
{
    <p>This playlist has no songs yet.</p>
}

<div class="mt-4">
    <a asp-action="Edit" asp-route-id="@Model?.Id" class="btn btn-primary">Edit</a> |
    <a asp-action="Index" class="btn btn-link">Back to List</a>
</div>



    <style>
        .song-item {
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .song-item:hover {
            background-color: #f0f0f0; /* Light gray color on hover */
            transform: scale(1.008); /* Slightly scale up the song item */
            cursor: pointer;
        }

        .song-item a.stretched-link {
            display: block;
            width: 100%;
            height: 100%;
        }
    </style>

